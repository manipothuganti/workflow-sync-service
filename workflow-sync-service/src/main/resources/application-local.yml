# These values are used when the Spring 'local' profile is active. This is
# intended for running the application locally in standalone mode.
#
logging:
  file:
    name: build/logs/application.log

# Database settings. Currently presumes a docker postgres instance and an
# env variable named POSTGRES_HOST_IP with the IP address. Note that the \$
# prevents the build from replacing the variable with resource filtering.
# Replace POSTGRES_SCHEMA with your DB's schema. RDS terraform will create a schema for each DB to leverage.
# Liquibase execution will also use this URL and therefore manipulate objects in this schema
spring:
  datasource:
    url: jdbc:postgresql://\${POSTGRES_HOST_IP}:5432/docker?currentSchema=\${POSTGRES_SCHEMA}
    # database credentials should come from AWS Secret Manager
    # and the following configuration should be moved to application.yaml for all application profiles to use.
    # see https://github.com/discoveryinc-cs/springboot-workflow-sync-service/wiki/AWS-Secrets-Manager-Integration for details
    username: docker
    password: docker
    driver-class-name: org.postgresql.Driver

management:
  endpoints:
    enabled-by-default: true
    web:
      exposure:
        include: "*"

playlistEventsWorkflowSyncQueue: https://sqs.us-east-1.amazonaws.com/224174657993/dev-wss-playlist-events.fifo

remote-services:
  workflowTrackingService:
    base-url: http://workflowtrackingservice.dev.dcitech.cloud/workflow-tracking/v1/
    content-type: application/json
    cache-reset: false

  nlcdConfigService:
    base-url: http://nlcdconfig.dev.dcitech.cloud/nlcdconfig-ws/api/v1/
    content-type: application/json
    cache-reset: true

  # Program Schedule Service
  programScheduleServiceConfig:
    base-url: https://pss.dev.dcitech.cloud/pss/api/v3
    read.timeout: 60000
    connection.timeout: 60000

  # Alternate Inventory Service
  alternateInventoryConfig:
    base-url: https://alternate-inventory-service.dev.dcitech.cloud/alternate-inventory-service/api/v1
    read.timeout: 60000
    connection.timeout: 60000

  # Metadata Extension Service (MES)
  metadataExtensionServiceConfig:
    base-url: http://metadata-extension-service.dev.dcitech.cloud/metadata-extension-service/api/v1
    read.timeout: 60000
    connection.timeout: 60000

  distributeClearService:
    base-url: https://distribute-clear-service.dev.dcitech.cloud/distribute-clear-service/api/v1/

  default-read-timeout: 60000
  default-connection-timeout: 60000
  scheduler-max-threads: 2000
